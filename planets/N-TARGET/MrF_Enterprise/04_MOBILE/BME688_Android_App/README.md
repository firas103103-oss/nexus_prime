# BME688 Sensor Monitor - Android App

تطبيق Android لمراقبة مستشعر BME688 في الوقت الفعلي عبر البلوتوث

## المميزات

✅ **اتصال Bluetooth Low Energy (BLE)** - اتصال لاسلكي موثوق
✅ **قراءة الحساسات المباشرة** - درجة الحرارة والرطوبة والضغط وجودة الهواء
✅ **رسوم بيانية حية** - عرض البيانات في رسوم بيانية
✅ **إحصائيات** - الحد الأدنى والأقصى والمتوسط
✅ **تقييم جودة الهواء** - تصنيف IAQ تلقائي
✅ **واجهة Material Design** - تصميم حديث وسهل الاستخدام

## المتطلبات

- Android 5.0 (API 21) أو أحدث
- جهاز به Bluetooth LE
- مستشعر BME688 متصل بـ ESP32

## الإعدادات

1. **فتح المشروع في Android Studio**
   ```bash
   git clone <repo>
   cd BME688_Android_App
   ```

2. **مزامنة Gradle**
   - اضغط على "Sync Now"

3. **تشغيل التطبيق**
   - اختر جهازك أو محاكي
   - اضغط على زر التشغيل

## الأذونات المطلوبة

- `BLUETOOTH` - الاتصال بأجهزة البلوتوث
- `BLUETOOTH_SCAN` - البحث عن الأجهزة
- `BLUETOOTH_CONNECT` - الاتصال بالأجهزة
- `ACCESS_FINE_LOCATION` - الوصول إلى موقع الجهاز

## استخدام التطبيق

### خطوات البدء:

1. **تشغيل التطبيق**
   - افتح التطبيق على جهازك الذكي

2. **البحث عن الأجهزة**
   - اضغط على "Scan Devices"
   - سيظهر قائمة بأجهزة البلوتوث المتاحة

3. **الاتصال بالمستشعر**
   - اختر "BME688 Development Kit" من القائمة
   - سيتم إنشاء الاتصال تلقائياً

4. **بدء استقبال البيانات**
   - اضغط على "Start Streaming"
   - ستبدأ رؤية بيانات المستشعرات في الوقت الفعلي

5. **عرض البيانات**
   - شاهد القراءات الحالية في الكروت العلوية
   - مراقبة الرسوم البيانية للبيانات التاريخية
   - تحقق من إحصائيات الحد الأدنى والأقصى والمتوسط

### الأوامر المتاحة:

- **بدء التدفق**: `start [sensor] [rate] [outputs...]`
- **إيقاف التدفق**: `stop`
- **تعيين التسمية**: `setlabel [label_id]`
- **قراءة الوقت**: `getrtctime`
- **ضبط الوقت**: `setrtctime [timestamp]`

## البنية المعمارية

```
BME688_Android_App/
├── BLEManager.kt          # إدارة اتصال Bluetooth
├── SensorData.kt          # نماذج البيانات
├── SensorViewModel.kt     # منطق التطبيق
├── MainActivity.kt        # الشاشة الرئيسية
├── DeviceDetailActivity.kt # شاشة التفاصيل
├── build.gradle           # إعدادات Gradle
└── res/
    ├── layout/
    │   ├── activity_main.xml
    │   └── activity_device_detail.xml
    └── values/
        └── strings.xml
```

## المكتبات المستخدمة

- **AndroidX**: مكتبات Android الأساسية
- **Lifecycle**: إدارة دورة حياة المكونات
- **Coroutines**: البرمجة غير المتزامنة
- **Material Design 3**: المكونات والأنماط
- **MPAndroidChart**: رسوم بيانية
- **Gson**: معالجة JSON

## البيانات المُستقبلة

```json
{
  "temperature": 25.5,
  "humidity": 45.3,
  "pressure": 1013.25,
  "air_quality": 65.2,
  "gas_resistance": 50000,
  "iaq": 45,
  "iaq_accuracy": 3,
  "timestamp": 1702046400000
}
```

## تقييم جودة الهواء (IAQ)

| النطاق | التقييم |
|------|--------|
| 0-50 | ممتاز |
| 51-100 | جيد |
| 101-150 | ملوث قليلاً |
| 151-200 | ملوث معتدلاً |
| 201-300 | ملوث كثيراً |
| 301+ | ملوث بشدة |

## استكشاف الأخطاء

### لا يظهر البجهاز عند البحث:
- تأكد من تشغيل ESP32
- تأكد من تفعيل البلوتوث على الهاتف
- تحقق من الأذونات

### فقدان الاتصال:
- تأكد من قرب الجهازين من بعضهما
- أعد تشغيل ESP32
- حاول إعادة الاتصال

### عدم ظهور البيانات:
- تأكد من بدء البث (Start Streaming)
- تحقق من رسائل السجل
- تأكد من التوصيلات الفيزيائية

## الترخيص

BSD-3-Clause

## الدعم

للمساعدة والدعم، اتصل بـ Bosch Sensortec أو راجع الوثائق الرسمية.

---

**تم التطوير بواسطة**: GitHub Copilot  
**النسخة**: 1.0  
**آخر تحديث**: ديسمبر 2024
