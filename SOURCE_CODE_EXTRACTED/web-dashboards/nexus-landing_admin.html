<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>âš™ï¸ Admin Portal - NEXUS PRIME</title>
<style>
:root{--p:#8b5cf6;--s:#a78bfa;--accent:#22d3ee;--dark:#0a0a0f;--card:rgba(15,15,25,0.9);
--border:#2a2040;--text:#e8e0f0;--muted:#888;--green:#22c55e;--red:#ef4444;--yellow:#f59e0b;}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--dark);color:var(--text);font-family:'Segoe UI',system-ui,sans-serif;display:flex;min-height:100vh;}
.sidebar{width:240px;background:#0d0b14;border-right:1px solid var(--border);padding:20px 0;position:fixed;height:100vh;overflow-y:auto;}
.sidebar .logo{padding:0 20px 20px;font-size:1.1rem;font-weight:bold;color:var(--p);border-bottom:1px solid var(--border);margin-bottom:15px;}
.sidebar .logo span{color:var(--accent);font-size:0.7rem;display:block;margin-top:4px;}
.nav-section{padding:0 15px;margin-bottom:15px;}
.nav-section h3{color:var(--muted);font-size:0.65rem;text-transform:uppercase;letter-spacing:2px;margin-bottom:8px;padding:0 5px;}
.nav-item{display:flex;align-items:center;gap:10px;padding:9px 12px;border-radius:8px;color:var(--muted);cursor:pointer;transition:all 0.2s;font-size:0.85rem;text-decoration:none;}
.nav-item:hover,.nav-item.active{background:rgba(139,92,246,0.15);color:var(--p);}
.nav-item.active{border-left:3px solid var(--p);}
.main{margin-left:240px;flex:1;padding:25px;}
.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;}
.topbar h1{font-size:1.5rem;color:var(--text);}
.topbar .time{color:var(--muted);font-size:0.8rem;}
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin-bottom:25px;}
.stat{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:20px;}
.stat-icon{font-size:1.5rem;margin-bottom:8px;}
.stat-value{font-size:1.8rem;font-weight:bold;color:var(--p);}
.stat-label{color:var(--muted);font-size:0.75rem;margin-top:4px;}
.stat-change{font-size:0.7rem;margin-top:6px;}
.stat-change.up{color:var(--green);}
.stat-change.down{color:var(--red);}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:25px;}
.panel{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:20px;}
.panel h2{font-size:0.9rem;margin-bottom:15px;color:var(--s);}
.svc-row{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.05);}
.svc-row:last-child{border:none;}
.svc-name{font-size:0.85rem;}
.svc-port{color:var(--muted);font-size:0.75rem;}
.dot{width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:8px;}
.dot.on{background:var(--green);box-shadow:0 0 8px var(--green);}
.dot.off{background:var(--red);box-shadow:0 0 8px var(--red);}
.user-row{display:flex;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.05);}
.user-row:last-child{border:none;}
.avatar{width:32px;height:32px;border-radius:50%;background:var(--p);display:flex;align-items:center;justify-content:center;font-size:0.8rem;font-weight:bold;}
.user-info{flex:1;}
.user-info .name{font-size:0.85rem;}
.user-info .role{color:var(--muted);font-size:0.7rem;}
.badge{padding:3px 10px;border-radius:8px;font-size:0.7rem;font-weight:bold;}
.b-admin{background:rgba(139,92,246,0.2);color:var(--p);}
.b-user{background:rgba(34,211,238,0.15);color:var(--accent);}
.log-entry{padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.03);font-size:0.8rem;display:flex;gap:10px;}
.log-entry:last-child{border:none;}
.log-time{color:var(--muted);font-size:0.7rem;white-space:nowrap;}
.log-msg{flex:1;}
.log-level{font-size:0.65rem;padding:2px 6px;border-radius:4px;font-weight:bold;}
.l-info{background:rgba(59,130,246,0.15);color:#3b82f6;}
.l-warn{background:rgba(245,158,11,0.15);color:var(--yellow);}
.l-ok{background:rgba(34,197,94,0.15);color:var(--green);}
table{width:100%;border-collapse:collapse;margin-top:10px;}
th{text-align:left;padding:10px;font-size:0.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px;border-bottom:1px solid var(--border);}
td{padding:10px;font-size:0.82rem;border-bottom:1px solid rgba(255,255,255,0.03);}
.btn{padding:6px 14px;border-radius:8px;border:1px solid var(--border);background:transparent;color:var(--text);cursor:pointer;font-size:0.75rem;transition:all 0.2s;}
.btn:hover{border-color:var(--p);color:var(--p);}
.btn-p{background:var(--p);border-color:var(--p);color:#fff;}
.btn-p:hover{background:#7c3aed;}
.btn-danger{border-color:var(--red);color:var(--red);}
.btn-danger:hover{background:rgba(239,68,68,0.15);}
.quick-actions{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:25px;}
.qa{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:15px;text-align:center;cursor:pointer;transition:all 0.3s;}
.qa:hover{border-color:var(--p);transform:translateY(-2px);}
.qa-icon{font-size:1.5rem;margin-bottom:6px;}
.qa-label{font-size:0.78rem;color:var(--muted);}
@media(max-width:768px){.sidebar{display:none;}.main{margin-left:0;}.stats{grid-template-columns:repeat(2,1fr);}.grid-2{grid-template-columns:1fr;}.quick-actions{grid-template-columns:repeat(2,1fr);}}
</style>
</head>
<body>
<div class="sidebar">
  <div class="logo">âš™ï¸ NEXUS ADMIN<span>Control Panel v2.0</span></div>
  <div class="nav-section">
    <h3>Overview</h3>
    <a class="nav-item active" href="#">ğŸ“Š Dashboard</a>
    <a class="nav-item" href="https://monitor.mrf103.com">ğŸ“ˆ Monitoring</a>
    <a class="nav-item" href="#">ğŸ”” Alerts</a>
  </div>
  <div class="nav-section">
    <h3>Management</h3>
    <a class="nav-item" href="#">ğŸ‘¥ Users</a>
    <a class="nav-item" href="#">ğŸ”‘ API Keys</a>
    <a class="nav-item" href="#">ğŸ“¦ Services</a>
    <a class="nav-item" href="#">ğŸ—„ï¸ Database</a>
  </div>
  <div class="nav-section">
    <h3>System</h3>
    <a class="nav-item" href="#">ğŸ“‹ Logs</a>
    <a class="nav-item" href="#">ğŸ”’ Security</a>
    <a class="nav-item" href="#">âš¡ Performance</a>
    <a class="nav-item" href="#">ğŸŒ DNS & Domains</a>
  </div>
  <div class="nav-section">
    <h3>Quick Links</h3>
    <a class="nav-item" href="https://dashboard.mrf103.com">ğŸ  Dashboard</a>
    <a class="nav-item" href="https://cortex.mrf103.com/docs">ğŸ§  Cortex API</a>
    <a class="nav-item" href="https://flow.mrf103.com">âš¡ n8n Flows</a>
    <a class="nav-item" href="https://chat.mrf103.com">ğŸ’¬ AI Chat</a>
  </div>
</div>

<div class="main">
  <div class="topbar">
    <h1>System Administration</h1>
    <div class="time" id="clock"></div>
  </div>

  <div class="stats">
    <div class="stat"><div class="stat-icon">ğŸ–¥ï¸</div><div class="stat-value" id="svc-count">0</div><div class="stat-label">Active Services</div><div class="stat-change up" id="svc-status">Checking...</div></div>
    <div class="stat"><div class="stat-icon">ğŸ‘¥</div><div class="stat-value">3</div><div class="stat-label">Registered Users</div><div class="stat-change up">â†‘ All verified</div></div>
    <div class="stat"><div class="stat-icon">ğŸ“¡</div><div class="stat-value" id="api-calls">12.4K</div><div class="stat-label">API Calls Today</div><div class="stat-change up">â†‘ 18% vs yesterday</div></div>
    <div class="stat"><div class="stat-icon">ğŸ’¾</div><div class="stat-value" id="db-size">--</div><div class="stat-label">Database Size</div><div class="stat-change">PostgreSQL 16</div></div>
  </div>

  <div class="quick-actions">
    <div class="qa" onclick="window.open('https://cortex.mrf103.com/docs','_blank')"><div class="qa-icon">ğŸ“–</div><div class="qa-label">API Documentation</div></div>
    <div class="qa" onclick="window.open('https://flow.mrf103.com','_blank')"><div class="qa-icon">ğŸ”„</div><div class="qa-label">Workflow Manager</div></div>
    <div class="qa" onclick="window.open('https://chat.mrf103.com','_blank')"><div class="qa-icon">ğŸ¤–</div><div class="qa-label">AI Assistant</div></div>
    <div class="qa" onclick="window.open('https://boardroom.mrf103.com','_blank')"><div class="qa-icon">ğŸ›ï¸</div><div class="qa-label">Boardroom</div></div>
    <div class="qa" onclick="window.open('https://finance.mrf103.com','_blank')"><div class="qa-icon">ğŸ’°</div><div class="qa-label">Finance Hub</div></div>
    <div class="qa" onclick="window.open('https://publisher.mrf103.com','_blank')"><div class="qa-icon">ğŸ“š</div><div class="qa-label">Publisher</div></div>
  </div>

  <div class="grid-2">
    <div class="panel">
      <h2>ğŸ–¥ï¸ Service Health</h2>
      <div id="services-list"></div>
    </div>
    <div class="panel">
      <h2>ğŸ‘¥ Users & Access</h2>
      <div class="user-row"><div class="avatar">MF</div><div class="user-info"><div class="name">MrF (Admin)</div><div class="role">Super Administrator</div></div><span class="badge b-admin">ADMIN</span></div>
      <div class="user-row"><div class="avatar" style="background:var(--accent);">AI</div><div class="user-info"><div class="name">NEXUS AI</div><div class="role">System Service Account</div></div><span class="badge b-admin">SYSTEM</span></div>
      <div class="user-row"><div class="avatar" style="background:#f59e0b;">G</div><div class="user-info"><div class="name">Guest Viewer</div><div class="role">Read-only Access</div></div><span class="badge b-user">VIEWER</span></div>
    </div>
  </div>

  <div class="grid-2">
    <div class="panel">
      <h2>ğŸ“‹ Recent Activity</h2>
      <div id="activity-log">
        <div class="log-entry"><span class="log-time">2 min ago</span><span class="log-level l-ok">OK</span><span class="log-msg">Cortex API health check passed</span></div>
        <div class="log-entry"><span class="log-time">5 min ago</span><span class="log-level l-info">INFO</span><span class="log-msg">Dashboard session started</span></div>
        <div class="log-entry"><span class="log-time">12 min ago</span><span class="log-level l-ok">OK</span><span class="log-msg">Oracle service started on port 8100</span></div>
        <div class="log-entry"><span class="log-time">18 min ago</span><span class="log-level l-info">INFO</span><span class="log-msg">Nginx config reloaded</span></div>
        <div class="log-entry"><span class="log-time">25 min ago</span><span class="log-level l-warn">WARN</span><span class="log-msg">Prime frontend (5173) not responding</span></div>
        <div class="log-entry"><span class="log-time">1 hr ago</span><span class="log-level l-ok">OK</span><span class="log-msg">SSL certificates valid (Let's Encrypt)</span></div>
        <div class="log-entry"><span class="log-time">2 hr ago</span><span class="log-level l-info">INFO</span><span class="log-msg">n8n workflow executed: content-pipeline</span></div>
      </div>
    </div>
    <div class="panel">
      <h2>ğŸŒ DNS Records (Cloudflare)</h2>
      <table>
        <tr><th>Subdomain</th><th>Target</th><th>Status</th></tr>
        <tr><td>mrf103.com</td><td>46.224.225.96</td><td><span class="dot on"></span>Proxied</td></tr>
        <tr><td>dashboard</td><td>:5001</td><td><span class="dot on"></span>Active</td></tr>
        <tr><td>chat / ai / nexus</td><td>:3000</td><td><span class="dot on"></span>Active</td></tr>
        <tr><td>flow / n8n</td><td>:5678</td><td><span class="dot on"></span>Active</td></tr>
        <tr><td>cortex</td><td>:8090</td><td><span class="dot on"></span>Active</td></tr>
        <tr><td>boardroom</td><td>:8501</td><td><span class="dot on"></span>Active</td></tr>
        <tr><td>publisher</td><td>:8002</td><td><span class="dot on"></span>Active</td></tr>
        <tr><td>voice</td><td>:5050</td><td><span class="dot on"></span>Active</td></tr>
        <tr><td>oracle</td><td>:8100</td><td><span class="dot on"></span>Active</td></tr>
      </table>
    </div>
  </div>
</div>

<script>
const services=[
  {name:'Open-WebUI (Chat)',port:3000,url:'https://chat.mrf103.com'},
  {name:'Dashboard',port:5001,url:'https://dashboard.mrf103.com'},
  {name:'Edge-TTS (Voice)',port:5050,url:'https://voice.mrf103.com'},
  {name:'n8n Automation',port:5678,url:'https://flow.mrf103.com'},
  {name:'Shadow7 API',port:8002,url:'https://publisher.mrf103.com'},
  {name:'API Gateway',port:8005,url:'https://api.mrf103.com'},
  {name:'Cortex API',port:8090,url:'https://cortex.mrf103.com'},
  {name:'Oracle API',port:8100,url:'https://oracle.mrf103.com'},
  {name:'Boardroom',port:8501,url:'https://boardroom.mrf103.com'},
  {name:'Ollama LLM',port:11434,url:null},
];
function updateClock(){document.getElementById('clock').textContent=new Date().toLocaleString('en-US',{weekday:'short',year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit',second:'2-digit'});}
setInterval(updateClock,1000);updateClock();

async function checkServices(){
  let html='',up=0;
  for(const s of services){
    let ok=false;
    try{const r=await fetch(s.url||`http://${location.hostname}:${s.port}`,{mode:'no-cors',signal:AbortSignal.timeout(3000)});ok=true;}catch(e){ok=false;}
    if(ok)up++;
    html+=`<div class="svc-row"><div><span class="dot ${ok?'on':'off'}"></span><span class="svc-name">${s.name}</span></div><span class="svc-port">:${s.port}</span></div>`;
  }
  document.getElementById('services-list').innerHTML=html;
  document.getElementById('svc-count').textContent=up;
  document.getElementById('svc-status').textContent=`${up}/${services.length} online`;
}
checkServices();setInterval(checkServices,30000);
</script>
</body>
</html>
